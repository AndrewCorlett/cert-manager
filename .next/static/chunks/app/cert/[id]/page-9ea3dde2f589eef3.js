(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[685],{6022:(e,s,t)=>{Promise.resolve().then(t.bind(t,9601))},9601:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var l=t(5155),n=t(2115),r=t(5695),a=t(4014),i=t(4548),c=t(3086);function d(e){var s;let{pdfUrl:t,className:r=""}=e,[a,d]=(0,n.useState)(null),[o,u]=(0,n.useState)(1),[f,p]=(0,n.useState)(!0),[m,h]=(0,n.useState)(null);return((0,n.useEffect)(()=>{p(!0),h(null)},[t]),f)?(0,l.jsx)("div",{className:"flex items-center justify-center h-full ".concat(r),children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,l.jsx)("p",{style:{color:"var(--white-pure)"},children:"Loading PDF..."})]})}):m?(0,l.jsx)("div",{className:"flex items-center justify-center h-full ".concat(r),children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{style:{color:"var(--error-red)"},className:"mb-2",children:m}),(0,l.jsxs)("p",{style:{color:"var(--grey-500)"},className:"text-sm",children:["URL: ",t]})]})}):(0,l.jsxs)("div",{className:"pdf-viewer ".concat(r),children:[(0,l.jsx)(i.A,{file:t,onLoadSuccess:function(e){let{numPages:s}=e;d(s),p(!1),h(null)},onLoadError:function(e){h("Failed to load PDF"),p(!1),console.error("PDF load error:",e)},className:"flex flex-col items-center",children:(0,l.jsx)(c.A,{pageNumber:o,renderTextLayer:!1,renderAnnotationLayer:!1,className:"pdf-page",scale:1,width:Math.min((null==(s=window)?void 0:s.innerWidth)||375,375)})}),a&&a>1&&(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-black/20 backdrop-blur-sm",children:[(0,l.jsx)("button",{onClick:()=>u(Math.max(1,o-1)),disabled:o<=1,className:"px-3 py-1 rounded bg-white/10 text-white disabled:opacity-50",children:"Previous"}),(0,l.jsxs)("span",{style:{color:"var(--white-pure)"},children:["Page ",o," of ",a]}),(0,l.jsx)("button",{onClick:()=>u(Math.min(a,o+1)),disabled:o>=a,className:"px-3 py-1 rounded bg-white/10 text-white disabled:opacity-50",children:"Next"})]})]})}a.EA.workerSrc="/pdf.worker.min.js";var o=t(6766);function u(e){let{fileUrl:s,className:t="",fileName:r=""}=e,[a,i]=(0,n.useState)("unknown"),[c,u]=(0,n.useState)(!0),[f,p]=(0,n.useState)(null);return((0,n.useEffect)(()=>{let e=s.toLowerCase(),t=r.toLowerCase();e.endsWith(".pdf")||t.endsWith(".pdf")?i("pdf"):e.match(/\.(jpg|jpeg|png|gif|webp|svg)$/)||t.match(/\.(jpg|jpeg|png|gif|webp|svg)$/)?i("image"):(i("unknown"),p("Unsupported file type")),u(!1)},[s,r]),c)?(0,l.jsx)("div",{className:"flex items-center justify-center h-full ".concat(t),children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,l.jsx)("p",{style:{color:"var(--white-pure)"},children:"Loading file..."})]})}):f||"unknown"===a?(0,l.jsx)("div",{className:"flex items-center justify-center h-full ".concat(t),children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{style:{color:"var(--error-red)"},className:"mb-2",children:f||"Unable to display this file type"}),(0,l.jsxs)("p",{style:{color:"var(--grey-500)"},className:"text-sm",children:["File: ",r||s]})]})}):"pdf"===a?(0,l.jsx)(d,{pdfUrl:s,className:t}):"image"===a?(0,l.jsx)("div",{className:"flex items-center justify-center h-full overflow-auto ".concat(t),children:(0,l.jsx)("div",{className:"relative w-full h-full",children:(0,l.jsx)(o.default,{src:s,alt:r||"Certificate",fill:!0,style:{objectFit:"contain"},sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:!0})})}):null}var f=t(184),p=t(3092),m=t(4403),h=t(2730);function x(){let e=(0,r.useParams)(),[s,t]=(0,n.useState)("collapsed"),[a,i]=(0,n.useState)(null),c=(0,h.f)(e=>e.certificates),d=(0,h.f)(e=>e.setCurrentViewingCert),o=(0,h.f)(e=>e.clearSelection);(0,n.useEffect)(()=>{let s=e.id,t=c.find(e=>e.id===s);i(t||null),d(t||null)},[e.id,c,d]);let x=e=>{console.log("Sending certificates:",e);let s="mailto:?subject=".concat(encodeURIComponent("Professional Certificates"),"&body=").concat(encodeURIComponent("Please find my professional certificates attached.\n\nBest regards,\n[Your Name]"));window.open(s,"_self"),o(),t("collapsed")};return a?(0,l.jsxs)("div",{className:"min-h-screen relative",children:[(0,l.jsx)("div",{className:"absolute inset-0",children:(0,l.jsx)(u,{fileUrl:a.fileUrl||a.pdfUrl||"",fileName:a.name,className:"w-full h-full"})}),(0,l.jsx)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-full z-30",style:{backgroundColor:"var(--grey-900)",color:"var(--white-pure)"},children:a.name}),(0,l.jsx)("div",{className:"relative z-40",children:(0,l.jsx)(f.A,{onModeChange:t,children:(()=>{switch(s){case"send.step1":return(0,l.jsx)(p.A,{step:"step1",onStepChange:e=>{"step2"===e&&t("send.step2")},onSend:x,currentCertId:null==a?void 0:a.id});case"send.step2":return(0,l.jsx)(p.A,{step:"step2",onStepChange:e=>{"step1"===e&&t("send.step1")},onSend:x,currentCertId:null==a?void 0:a.id});case"settings.doc":return(0,l.jsx)(m.A,{mode:"doc"});default:return null}})()})})]}):(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsx)("p",{style:{color:"var(--white-pure)"},children:"Certificate not found"})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[309,921,134,67,645,478,441,684,358],()=>s(6022)),_N_E=e.O()}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[478],{850:(e,t,l)=>{l.d(t,{C:()=>a});var r=l(5453),s=l(6786);let a=(0,r.v)()((0,s.Zr)((e,t)=>({theme:"dark",toggleTheme:()=>{let l="dark"===t().theme?"light":"dark";e({theme:l}),document.documentElement.setAttribute("data-theme-switching","true"),document.documentElement.setAttribute("data-theme",l),requestAnimationFrame(()=>{document.documentElement.removeAttribute("data-theme-switching")})},setTheme:t=>{e({theme:t}),document.documentElement.setAttribute("data-theme",t)}}),{name:"cert-manager-theme",onRehydrateStorage:()=>e=>{e&&document.documentElement.setAttribute("data-theme",e.theme)}}))},3092:(e,t,l)=>{l.d(t,{A:()=>c});var r=l(5155),s=l(2115),a=l(6408),o=l(2869),i=l(7183),n=l(2730);function c(e){let{step:t,onStepChange:l,onSend:c,currentCertId:d}=e,[u,m]=(0,s.useState)(null),h=(0,n.f)(e=>e.selectedCertificates),x=(0,n.f)(e=>e.clearSelection),p=(0,n.f)(e=>e.currentViewingCert);return(0,r.jsxs)("div",{className:"relative overflow-hidden",style:{minHeight:"200px"},children:[(0,r.jsx)(a.P.div,{variants:{step1:{x:0,transition:{duration:.3}},step2:{x:"-100%",transition:{duration:.3}}},animate:t,className:"absolute inset-0 space-y-4",children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(o.$,{onClick:()=>{m("this-doc"),setTimeout(()=>{let e=d||(null==p?void 0:p.id);e&&c([e]),m(null)},200)},variant:"ghost",className:"w-full py-4 text-left justify-start border-0 outline-none shadow-none transition-all duration-200",style:{backgroundColor:"this-doc"===u?"#C89B3C":"var(--grey-700)",color:"#FFFFFF",border:"none",outline:"none",boxShadow:"none",transform:"this-doc"===u?"scale(1.02)":"scale(1)"},children:(0,r.jsx)("span",{style:{color:"#FFFFFF",fontWeight:"this-doc"===u?"600":"400"},children:"This Document Only"})}),(0,r.jsx)(o.$,{onClick:()=>{m("multiple"),x(),l("step2"),setTimeout(()=>m(null),300)},variant:"ghost",className:"w-full py-4 text-left justify-start border-0 outline-none shadow-none transition-all duration-200",style:{backgroundColor:"multiple"===u?"#C89B3C":"var(--grey-700)",color:"#FFFFFF",border:"none",outline:"none",boxShadow:"none",transform:"multiple"===u?"scale(1.02)":"scale(1)"},children:(0,r.jsx)("span",{style:{color:"#FFFFFF",fontWeight:"multiple"===u?"600":"400"},children:"Select Multiple"})})]})}),(0,r.jsx)(a.P.div,{variants:{step1:{x:"100%",transition:{duration:.3}},step2:{x:0,transition:{duration:.3}}},animate:t,className:"absolute inset-0",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",style:{color:"var(--white-pure)"},children:"Select Multiple"}),h.length>0&&(0,r.jsxs)(o.$,{onClick:()=>{h.length>0&&c(h)},variant:"ghost",className:"px-4 py-2",style:{backgroundColor:"var(--gold-accent)",color:"#1E1E1E",fontWeight:"600"},children:["Send (",h.length,")"]})]}),(0,r.jsx)(i.A,{showSelection:!0,onFileSelect:()=>{}})]})})]})}},4403:(e,t,l)=>{l.d(t,{A:()=>d});var r=l(5155),s=l(2115),a=l(2869),o=l(2730),i=l(850),n=l(3509),c=l(2098);function d(e){let{mode:t}=e,[l,d]=(0,s.useState)("user@example.com"),[u,m]=(0,s.useState)(30),[h,x]=(0,s.useState)("Please find attached my professional certificates.\n\nBest regards,\n[Your Name]"),p=(0,o.f)(e=>e.currentViewingCert),F=(0,o.f)(e=>e.updateCertificate),f=(0,o.f)(e=>e.deleteCertificate),{theme:g,toggleTheme:y}=(0,i.C)();return"home"===t?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold border-b pb-2",style:{color:"#FFFFFF",borderColor:"var(--grey-500)"},children:"My Account"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Google Email"}),(0,r.jsx)("input",{type:"email",value:l,onChange:e=>d(e.target.value),className:"w-full p-3 rounded",style:{backgroundColor:"#E5E7EB",color:"#1F2937",border:"1px solid #9CA3AF"},placeholder:"Enter your email"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Notification Days"}),(0,r.jsx)("input",{type:"number",value:u,onChange:e=>m(parseInt(e.target.value)),className:"w-full p-3 rounded",style:{backgroundColor:"#E5E7EB",color:"#1F2937",border:"1px solid #9CA3AF"},placeholder:"Days before expiry"}),(0,r.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--grey-500)"},children:"Get notified this many days before certificates expire"})]})]}),(0,r.jsx)("h4",{className:"text-md font-semibold border-b pb-2 mt-6",style:{color:"#FFFFFF",borderColor:"var(--grey-500)"},children:"Notifications"}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Email Template"}),(0,r.jsx)("textarea",{value:h,onChange:e=>x(e.target.value),rows:6,className:"w-full p-3 rounded resize-none",style:{backgroundColor:"#E5E7EB",color:"#1F2937",border:"1px solid #9CA3AF"},placeholder:"Enter your default email template"}),(0,r.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--grey-500)"},children:"This template will be used when sending certificates via email"})]})}),(0,r.jsx)("h4",{className:"text-md font-semibold border-b pb-2 mt-6",style:{color:"#FFFFFF",borderColor:"var(--grey-500)"},children:"Appearance"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Theme"}),(0,r.jsx)(a.$,{onClick:y,className:"w-full p-3 justify-start",style:{backgroundColor:"var(--grey-700)",color:"var(--white-pure)",border:"1px solid var(--grey-500)"},children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:["dark"===g?(0,r.jsx)(n.A,{size:20,color:"var(--gold-accent)"}):(0,r.jsx)(c.A,{size:20,color:"var(--gold-accent)"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:"dark"===g?"Dark Mode":"Light Mode"}),(0,r.jsxs)("div",{className:"text-sm opacity-75",children:["Tap to switch to ","dark"===g?"light":"dark"," theme"]})]})]})})]}),(0,r.jsx)(a.$,{onClick:()=>{console.log("Saving settings:",{email:l,notificationDays:u,emailTemplate:h,theme:g}),alert("Settings saved!")},className:"w-full py-3",style:{backgroundColor:"var(--gold-accent)",color:"var(--white-pure)"},children:"Save Settings"})]})]}):p?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold border-b pb-2",style:{color:"#FFFFFF",borderColor:"var(--grey-500)"},children:p.name}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"#FFFFFF"},children:"File Location"}),(0,r.jsxs)("select",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--grey-500)",color:"var(--white-pure)",border:"none"},defaultValue:p.filePath,onChange:e=>F(p.id,{filePath:e.target.value}),children:[(0,r.jsx)("option",{value:"/certificates/default",children:"Default Location"}),(0,r.jsx)("option",{value:"/certificates/stcw",children:"STCW Folder"}),(0,r.jsx)("option",{value:"/certificates/gwo",children:"GWO Folder"}),(0,r.jsx)("option",{value:"/certificates/opito",children:"OPITO Folder"}),(0,r.jsx)("option",{value:"/certificates/contracts",children:"Contracts Folder"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"#FFFFFF"},children:"Issue Date"}),(0,r.jsx)("input",{type:"date",className:"w-full p-2 rounded",style:{backgroundColor:"var(--grey-500)",color:"var(--white-pure)",border:"none"},defaultValue:p.issueDate,onChange:e=>F(p.id,{issueDate:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"#FFFFFF"},children:"Expiry Date"}),(0,r.jsx)("input",{type:"date",className:"w-full p-2 rounded",style:{backgroundColor:"var(--grey-500)",color:"var(--white-pure)",border:"none"},defaultValue:p.expiryDate,onChange:e=>F(p.id,{expiryDate:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"#FFFFFF"},children:"Cert no."}),(0,r.jsx)("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--grey-500)",color:"var(--white-pure)",border:"none"},defaultValue:p.serialNumber,onChange:e=>F(p.id,{serialNumber:e.target.value}),placeholder:"Enter certificate number"})]}),(0,r.jsx)(a.$,{onClick:()=>{confirm("Are you sure you want to delete this certificate?")&&(f(p.id),window.location.href="/")},className:"w-full p-3 rounded mt-6 font-medium",style:{backgroundColor:"var(--error-red)",color:"var(--white-pure)"},children:"Delete Certificate"})]})]}):(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{style:{color:"var(--grey-500)"},children:"No certificate selected"})})}},7183:(e,t,l)=>{l.d(t,{A:()=>g});var r=l(5155),s=l(2115),a=l(6408),o=l(4616),i=l(3052),n=l(2730),c=l(760),d=l(4416),u=l(5339),m=l(7434),h=l(9869),x=l(4355),p=l(2869);function F(e){let{isOpen:t,onClose:l,onFileUpload:o}=e,[i,n]=(0,s.useState)(!1),[F,f]=(0,s.useState)(!1),[g,y]=(0,s.useState)(null),v=(0,s.useRef)(null),b=(0,s.useRef)(null),j=e=>{if(e){if(!e.type.includes("pdf")&&!e.type.includes("image"))return void y("Please select a PDF or image file");y(null),f(!0),setTimeout(()=>{o(e),f(!1),l()},1e3)}};return(0,r.jsx)(c.N,{children:t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1}},initial:"hidden",animate:"visible",exit:"hidden",className:"fixed inset-0 z-50 bg-black bg-opacity-50 backdrop-blur-sm",onClick:l}),(0,r.jsx)(a.P.div,{variants:{hidden:{opacity:0,scale:.8,transition:{duration:.2}},visible:{opacity:1,scale:1,transition:{duration:.3}}},initial:"hidden",animate:"visible",exit:"hidden",className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md rounded-lg p-6",style:{backgroundColor:"#1E1E1E"},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Add Certificate"}),(0,r.jsx)("button",{onClick:l,className:"p-1 rounded-full hover:bg-gray-600 transition-colors",children:(0,r.jsx)(d.A,{size:20,color:"#FFFFFF"})})]}),g&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg mb-4",style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA"},children:[(0,r.jsx)(u.A,{size:16,color:"#DC2626"}),(0,r.jsx)("span",{style:{color:"#DC2626",fontSize:"14px"},children:g})]}),F&&(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gold-accent mx-auto mb-4"}),(0,r.jsx)("p",{style:{color:"#FFFFFF"},children:"Processing document with AI..."})]}),!F&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors ".concat(i?"border-gold-accent bg-opacity-10":"border-gray-500"),onDragOver:e=>{e.preventDefault(),n(!0)},onDragLeave:()=>{n(!1)},onDrop:e=>{e.preventDefault(),n(!1);let t=Array.from(e.dataTransfer.files);t.length>0&&j(t[0])},children:[(0,r.jsx)(m.A,{size:32,color:"#9CA3AF",className:"mx-auto mb-2"}),(0,r.jsx)("p",{style:{color:"#FFFFFF",marginBottom:"8px"},children:"Drag and drop your certificate here"}),(0,r.jsx)("p",{style:{color:"#9CA3AF",fontSize:"14px"},children:"PDF or image files only"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)(p.$,{onClick:()=>{var e;null==(e=v.current)||e.click()},variant:"ghost",className:"h-auto py-4 flex flex-col items-center gap-2 border border-gray-500 hover:border-gold-accent transition-all",style:{backgroundColor:"transparent"},children:[(0,r.jsx)(h.A,{size:24,color:"#FFFFFF"}),(0,r.jsx)("span",{style:{color:"#FFFFFF"},children:"File Explorer"})]}),(0,r.jsxs)(p.$,{onClick:()=>{var e;null==(e=b.current)||e.click()},variant:"ghost",className:"h-auto py-4 flex flex-col items-center gap-2 border border-gray-500 hover:border-gold-accent transition-all",style:{backgroundColor:"transparent"},children:[(0,r.jsx)(x.A,{size:24,color:"#FFFFFF"}),(0,r.jsx)("span",{style:{color:"#FFFFFF"},children:"Camera"})]})]}),(0,r.jsx)("p",{className:"text-sm text-center mt-4",style:{color:"#9CA3AF"},children:"Your document will be processed with AI to extract certificate information."})]}),(0,r.jsx)("input",{ref:v,type:"file",accept:".pdf,image/*",onChange:e=>{var t;let l=null==(t=e.target.files)?void 0:t[0];l&&j(l)},className:"hidden"}),(0,r.jsx)("input",{ref:b,type:"file",accept:"image/*",capture:"environment",onChange:e=>{var t;let l=null==(t=e.target.files)?void 0:t[0];l&&j(l)},className:"hidden"})]})})]})})}var f=l(7358);function g(e){let{showSelection:t=!1,onFileSelect:l,onLongPress:c}=e,[d,u]=(0,s.useState)([]),[m,h]=(0,s.useState)(!1),x=(0,n.f)(e=>e.certificates),p=(0,n.f)(e=>e.selectedCertificates),g=(0,n.f)(e=>e.toggleCertificateSelection),y=(0,n.f)(e=>e.addCertificate),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,l=new Date,r=Math.ceil((new Date(e).getTime()-l.getTime())/864e5);return r<0?{status:"expired",textColor:"#ef4444",textDecoration:"line-through"}:r<=t?{status:"expiring",textColor:"#ef4444",textDecoration:"none"}:{status:"valid",textColor:"#ffffff",textDecoration:"none"}},b=e=>{u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},j=e=>{t&&g(e),l&&l(e)},C=e=>{c&&c(e)},N=e=>x.filter(t=>t.category===e),w=async e=>{try{if(!f.env.NEXT_PUBLIC_OPENAI_API_KEY)throw Error("API key is not configured. Please add your OpenAI API key to environment variables.");let t={name:e.name.replace(/\.(pdf|jpg|jpeg|png)$/i,""),category:"STCW",filePath:"/certificates/".concat(e.name),issueDate:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+31536e6).toISOString().split("T")[0],serialNumber:"AI-".concat(Date.now()),status:"valid",pdfUrl:URL.createObjectURL(e)};y(t),console.log("Certificate added successfully:",t)}catch(e){alert(e instanceof Error?e.message:"Failed to process document"),console.error("Upload error:",e)}};return(0,r.jsxs)("div",{className:"space-y-2",children:[!t&&(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",style:{color:"var(--grey-500)"},children:"Documentation"}),(0,r.jsx)("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors",onClick:()=>h(!0),children:(0,r.jsx)(o.A,{size:20,style:{color:"var(--grey-500)"}})})]}),["STCW","GWO","OPITO","Contracts"].map(e=>{let l=N(e),s=d.includes(e);return(0,r.jsxs)("div",{className:"border-b border-gray-200 pb-2",children:[(0,r.jsxs)("button",{className:"w-full flex items-center justify-between py-3 text-left",onClick:()=>b(e),children:[(0,r.jsx)("span",{className:"font-medium text-lg",style:{color:"var(--grey-500)"},children:e}),(0,r.jsx)(a.P.div,{animate:{rotate:90*!!s},transition:{duration:.2},children:(0,r.jsx)(i.A,{size:20,style:{color:"var(--grey-500)"}})})]}),(0,r.jsx)(a.P.div,{initial:!1,animate:{height:s?"auto":0,opacity:+!!s},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"overflow-hidden",children:(0,r.jsx)("div",{className:"space-y-1 pl-4",children:l.map(e=>{let l=v(e.expiryDate);return(0,r.jsx)("div",{className:"flex items-center space-x-3 py-2 px-3 rounded-lg cursor-pointer transition-colors ".concat(t&&p.includes(e.id)?"bg-opacity-20":"hover:bg-gray-50"),style:{backgroundColor:t&&p.includes(e.id)?"var(--gold-accent)":"transparent"},onClick:()=>j(e.id),onTouchStart:()=>{let t=setTimeout(()=>C(e.id),500),l=()=>clearTimeout(t);document.addEventListener("touchend",l,{once:!0}),document.addEventListener("touchmove",l,{once:!0})},children:(0,r.jsx)("span",{className:"flex-1 text-sm",style:{color:t&&p.includes(e.id)?"var(--gold-accent)":l.textColor,textDecoration:t&&p.includes(e.id)?"none":l.textDecoration},children:e.name})},e.id)})})})]},e)}),(0,r.jsx)(F,{isOpen:m,onClose:()=>h(!1),onFileUpload:w})]})}}}]);
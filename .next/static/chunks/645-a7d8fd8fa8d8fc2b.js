"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[645],{184:(e,t,i)=>{i.d(t,{A:()=>f});var s=i(5155),r=i(2115),a=i(760),n=i(6408),c=i(7340),o=i(5968),l=i(2486),d=i(381),u=i(5695);function f(e){let{onModeChange:t,children:i,mode:f}=e,[p,h]=(0,r.useState)(f||"collapsed"),[g,v]=(0,r.useState)(0),[x,m]=(0,r.useState)(!1),[b,y]=(0,r.useState)(0),[C,F]=(0,r.useState)(0),w=(0,r.useRef)(null),k=(0,u.usePathname)(),S="collapsed"!==p,N=function(e,t){switch(e){case"list":return"list";case"send.step1":case"send.step2":return"send";case"settings.home":case"settings.doc":return"settings";default:if(t.startsWith("/cert/"))return"settings";return"home"}}(p,k);(0,r.useEffect)(()=>{t&&t(p)},[p,t]),(0,r.useEffect)(()=>{if(S&&w.current){let e=()=>{var e;F((null==(e=w.current)?void 0:e.scrollHeight)||0)};e();let t=new ResizeObserver(e);return t.observe(w.current),()=>{t.disconnect()}}},[S,i]);let z=e=>{if(!x)if("collapsed"===p)m(!0),setTimeout(()=>{switch(e){case"home":"/"!==k&&(window.location.href="/");break;case"list":h("list");break;case"send":h("send.step1");break;case"settings":k.startsWith("/cert/")?h("settings.doc"):h("settings.home")}setTimeout(()=>m(!1),300)},200);else{if(e===function(e){switch(e){case"list":return"list";case"send.step1":case"send.step2":return"send";case"settings.home":case"settings.doc":return"settings";default:return"home"}}(p))return;switch(e){case"home":"/"!==k&&(window.location.href="/");break;case"list":h("list");break;case"send":h("send.step1");break;case"settings":k.startsWith("/cert/")?h("settings.doc"):h("settings.home")}}},j=()=>{if(!S)return 72;let e=Math.min(C+32+72,.7*window.innerHeight);return e-(e-72)*g},W={collapsed:{height:"72px",borderRadius:"36px",transition:{duration:.3*!!x}},expanded:{height:"".concat(j(),"px"),borderRadius:S?"".concat(24+12*g,"px"):"36px",transition:{duration:.3*!!x}}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.N,{children:S&&(0,s.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-40 blur-backdrop cursor-pointer",style:{backdropFilter:"blur(4px)"},onClick:()=>{S&&h("collapsed")}})}),(0,s.jsxs)(n.P.div,{className:"fixed left-1/2 z-50 navbar-shadow overflow-hidden",style:{x:"-50%",bottom:"24px",width:"clamp(90%, 350px, 100%)",maxWidth:"350px",minWidth:"90%",backgroundColor:"#121212",y:S?b:0},variants:W,animate:S?"expanded":"collapsed",drag:!!S&&"y",dragConstraints:{top:0,bottom:j()-72},dragElastic:0,onDragStart:()=>{if(!S)return},onDrag:(e,t)=>{if(!S||x)return;let i=t.offset.y;y(i);let s=j()-72;v(Math.max(0,Math.min(s,i))/s)},onDragEnd:(e,t)=>{if(!S)return;let i=t.velocity.y;g>.5||i>800?(m(!0),h("collapsed"),v(0),y(0),navigator.vibrate&&navigator.vibrate(10),setTimeout(()=>m(!1),300)):(v(0),y(0))},children:[(0,s.jsx)(a.N,{children:S&&(0,s.jsx)(n.P.div,{variants:{hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{duration:.18,delay:.1}}},initial:"hidden",animate:"visible",exit:"hidden",className:"flex-1 overflow-hidden",style:{opacity:1-g},children:(0,s.jsx)("div",{ref:w,className:"px-4 pt-4 pb-4 overflow-y-auto",style:{maxHeight:"calc(".concat(j(),"px - 72px)")},children:i})})}),(0,s.jsx)("div",{className:"flex items-center h-[72px] relative overflow-hidden ".concat(S?"px-5":"px-6"),children:S?["home","list","send","settings"].map((e,t)=>{let i=e===N,r=(()=>{if(i)return{x:-175*(1-g),y:20*(1-g),opacity:1,scale:1.1-.1*g,color:g>.5?"#FFFFFF":"#C89B3C",size:32,position:"absolute",left:"50%"};{let e=[-105,-35,35,105][t],i=t<["home","list","send","settings"].indexOf(N)?-200:200;return{x:i+(e-i)*g,y:0+0*g,opacity:g,scale:1,color:"#FFFFFF",size:28,position:"absolute",left:"50%"}}})();return(0,s.jsxs)(n.P.button,{initial:!1,animate:{x:r.x,y:r.y,opacity:r.opacity,scale:r.scale},transition:{duration:.4*!!x},onClick:()=>z(e),className:"p-".concat(32===r.size?"3":"2"," rounded-full absolute"),style:{left:r.left},children:["home"===e&&(0,s.jsx)(c.A,{size:r.size,color:r.color,strokeWidth:2.5}),"list"===e&&(0,s.jsx)(o.A,{size:r.size,color:r.color,strokeWidth:2.5}),"send"===e&&(0,s.jsx)(l.A,{size:r.size,color:r.color,strokeWidth:2.5}),"settings"===e&&(0,s.jsx)(d.A,{size:r.size,color:r.color,strokeWidth:2.5})]},e)}):(0,s.jsx)("div",{className:"flex items-center justify-between w-full",children:["home","list","send","settings"].map(e=>{let t=e===N;return(0,s.jsxs)(n.P.button,{initial:!1,animate:{opacity:1,scale:1,x:0},transition:{duration:.4},onClick:()=>z(e),className:"p-2 rounded-full",children:["home"===e&&(0,s.jsx)(c.A,{size:28,color:t?"#C89B3C":"#FFFFFF",strokeWidth:2.5}),"list"===e&&(0,s.jsx)(o.A,{size:28,color:t?"#C89B3C":"#FFFFFF",strokeWidth:2.5}),"send"===e&&(0,s.jsx)(l.A,{size:28,color:t?"#C89B3C":"#FFFFFF",strokeWidth:2.5}),"settings"===e&&(0,s.jsx)(d.A,{size:28,color:t?"#C89B3C":"#FFFFFF",strokeWidth:2.5})]},e)})})})]})]})}},2730:(e,t,i)=>{i.d(t,{f:()=>a});var s=i(5453);let r=[{id:"1",name:"Basic Fire Fighting",category:"STCW",filePath:"/certificates/basic-fire-fighting.pdf",issueDate:"2023-01-15",expiryDate:"2028-01-15",serialNumber:"BFF-2023-001",status:"valid",pdfUrl:"/dev-assets/ENG-1-2023.pdf"},{id:"2",name:"Medical First Aid",category:"STCW",filePath:"/certificates/medical-first-aid.pdf",issueDate:"2023-02-20",expiryDate:"2028-02-20",serialNumber:"MFA-2023-002",status:"valid",pdfUrl:"/dev-assets/ENG-1-2023.pdf"},{id:"3",name:"Personnel Survival Techniques",category:"STCW",filePath:"/certificates/pst.pdf",issueDate:"2023-03-10",expiryDate:"2028-03-10",serialNumber:"PST-2023-003",status:"valid",pdfUrl:"/dev-assets/ENG-1-2023.pdf"},{id:"4",name:"Social & Security",category:"STCW",filePath:"/certificates/social-security.pdf",issueDate:"2023-04-05",expiryDate:"2028-04-05",serialNumber:"SS-2023-004",status:"valid",pdfUrl:"/dev-assets/ENG-1-2023.pdf"},{id:"5",name:"Seafarer Medical Certificate",category:"STCW",filePath:"/certificates/medical-cert.pdf",issueDate:"2022-06-15",expiryDate:"2024-06-15",serialNumber:"SMC-2022-005",status:"expired",pdfUrl:"/dev-assets/ENG-1-2023.pdf"},{id:"6",name:"GWO Basic Safety Training",category:"GWO",filePath:"/certificates/gwo-basic.pdf",issueDate:"2023-07-20",expiryDate:"2025-07-20",serialNumber:"GWO-2023-006",status:"upcoming",pdfUrl:"/dev-assets/ENG-1-2023.pdf"},{id:"7",name:"Proficiency in Personal Survival Techniques",category:"STCW",filePath:"/certificates/ppst.png",issueDate:"2023-08-15",expiryDate:"2028-08-15",serialNumber:"PPST-2023-007",status:"valid",fileUrl:"/dev-assets/stcw-certificate.png",fileType:"image"}],a=(0,s.v)((e,t)=>({certificates:r,selectedCertificates:[],currentViewingCert:null,addCertificate:t=>{let i={...t,id:Date.now().toString()};e(e=>({certificates:[...e.certificates,i]}))},updateCertificate:(t,i)=>{e(e=>({certificates:e.certificates.map(e=>e.id===t?{...e,...i}:e)}))},deleteCertificate:t=>{e(e=>{var i;return{certificates:e.certificates.filter(e=>e.id!==t),selectedCertificates:e.selectedCertificates.filter(e=>e!==t),currentViewingCert:(null==(i=e.currentViewingCert)?void 0:i.id)===t?null:e.currentViewingCert}})},toggleCertificateSelection:t=>{e(e=>({selectedCertificates:e.selectedCertificates.includes(t)?e.selectedCertificates.filter(e=>e!==t):[...e.selectedCertificates,t]}))},clearSelection:()=>{e({selectedCertificates:[]})},setCurrentViewingCert:t=>{e({currentViewingCert:t})},getCertificatesByCategory:e=>{let{certificates:i}=t();return i.filter(t=>t.category===e)},getStatistics:()=>{let{certificates:e}=t();return e.reduce((e,t)=>(e[t.status]++,e),{expired:0,valid:0,upcoming:0})},fetchCertificates:async()=>{console.log("Fetching certificates from backend..."),await new Promise(e=>setTimeout(e,1e3))}}))},2869:(e,t,i)=>{i.d(t,{$:()=>l});var s=i(5155);i(2115);var r=i(4624),a=i(2085),n=i(2596),c=i(9688);let o=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:i,size:a,asChild:l=!1,...d}=e,u=l?r.DX:"button";return(0,s.jsx)(u,{"data-slot":"button",className:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,c.QP)((0,n.$)(t))}(o({variant:i,size:a,className:t})),...d})}}}]);
"use strict";exports.id=292,exports.ids=[292],exports.modules={1460:(e,t,l)=>{l.d(t,{A:()=>f});var r=l(687),s=l(3210),a=l(6001),o=l(2688);let i=(0,o.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),n=(0,o.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var c=l(8840),d=l(8920);let u=(0,o.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var m=l(3613);let h=(0,o.A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var p=l(6023),x=l(1361),y=l(9699);function F({isOpen:e,onClose:t,onFileUpload:l}){let[o,i]=(0,s.useState)(!1),[n,c]=(0,s.useState)(!1),[F,f]=(0,s.useState)(null),g=(0,s.useRef)(null),v=(0,s.useRef)(null),b=e=>{if(e){if(!e.type.includes("pdf")&&!e.type.includes("image"))return void f("Please select a PDF or image file");f(null),c(!0),setTimeout(()=>{l(e),c(!1),t()},1e3)}};return(0,r.jsx)(d.N,{children:e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1}},initial:"hidden",animate:"visible",exit:"hidden",className:"fixed inset-0 z-50 bg-black bg-opacity-50 backdrop-blur-sm",onClick:t}),(0,r.jsx)(a.P.div,{variants:{hidden:{opacity:0,scale:.8,transition:{duration:.2}},visible:{opacity:1,scale:1,transition:{duration:.3}}},initial:"hidden",animate:"visible",exit:"hidden",className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md rounded-lg p-6",style:{backgroundColor:"#1E1E1E"},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",style:{color:"#FFFFFF"},children:"Add Certificate"}),(0,r.jsx)("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-600 transition-colors",children:(0,r.jsx)(u,{size:20,color:"#FFFFFF"})})]}),F&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg mb-4",style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA"},children:[(0,r.jsx)(m.A,{size:16,color:"#DC2626"}),(0,r.jsx)("span",{style:{color:"#DC2626",fontSize:"14px"},children:F})]}),n&&(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gold-accent mx-auto mb-4"}),(0,r.jsx)("p",{style:{color:"#FFFFFF"},children:"Processing document with AI..."})]}),!n&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${o?"border-gold-accent bg-opacity-10":"border-gray-500"}`,onDragOver:e=>{e.preventDefault(),i(!0)},onDragLeave:()=>{i(!1)},onDrop:e=>{e.preventDefault(),i(!1);let t=Array.from(e.dataTransfer.files);t.length>0&&b(t[0])},children:[(0,r.jsx)(h,{size:32,color:"#9CA3AF",className:"mx-auto mb-2"}),(0,r.jsx)("p",{style:{color:"#FFFFFF",marginBottom:"8px"},children:"Drag and drop your certificate here"}),(0,r.jsx)("p",{style:{color:"#9CA3AF",fontSize:"14px"},children:"PDF or image files only"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)(y.$,{onClick:()=>{g.current?.click()},variant:"ghost",className:"h-auto py-4 flex flex-col items-center gap-2 border border-gray-500 hover:border-gold-accent transition-all",style:{backgroundColor:"transparent"},children:[(0,r.jsx)(p.A,{size:24,color:"#FFFFFF"}),(0,r.jsx)("span",{style:{color:"#FFFFFF"},children:"File Explorer"})]}),(0,r.jsxs)(y.$,{onClick:()=>{v.current?.click()},variant:"ghost",className:"h-auto py-4 flex flex-col items-center gap-2 border border-gray-500 hover:border-gold-accent transition-all",style:{backgroundColor:"transparent"},children:[(0,r.jsx)(x.A,{size:24,color:"#FFFFFF"}),(0,r.jsx)("span",{style:{color:"#FFFFFF"},children:"Camera"})]})]}),(0,r.jsx)("p",{className:"text-sm text-center mt-4",style:{color:"#9CA3AF"},children:"Your document will be processed with AI to extract certificate information."})]}),(0,r.jsx)("input",{ref:g,type:"file",accept:".pdf,image/*",onChange:e=>{let t=e.target.files?.[0];t&&b(t)},className:"hidden"}),(0,r.jsx)("input",{ref:v,type:"file",accept:"image/*",capture:"environment",onChange:e=>{let t=e.target.files?.[0];t&&b(t)},className:"hidden"})]})})]})})}function f({showSelection:e=!1,onFileSelect:t,onLongPress:l}){let[o,d]=(0,s.useState)([]),[u,m]=(0,s.useState)(!1),h=(0,c.f)(e=>e.certificates),p=(0,c.f)(e=>e.selectedCertificates),x=(0,c.f)(e=>e.toggleCertificateSelection),y=(0,c.f)(e=>e.addCertificate),f=(e,t=30)=>{let l=new Date,r=Math.ceil((new Date(e).getTime()-l.getTime())/864e5);return r<0?{status:"expired",textColor:"#ef4444",textDecoration:"line-through"}:r<=t?{status:"expiring",textColor:"#ef4444",textDecoration:"none"}:{status:"valid",textColor:"#ffffff",textDecoration:"none"}},g=e=>{d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},v=l=>{e&&x(l),t&&t(l)},b=e=>{l&&l(e)},j=e=>h.filter(t=>t.category===e),C=async e=>{try{if(!process.env.NEXT_PUBLIC_OPENAI_API_KEY)throw Error("API key is not configured. Please add your OpenAI API key to environment variables.");let t={name:e.name.replace(/\.(pdf|jpg|jpeg|png)$/i,""),category:"STCW",filePath:`/certificates/${e.name}`,issueDate:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+31536e6).toISOString().split("T")[0],serialNumber:`AI-${Date.now()}`,status:"valid",pdfUrl:URL.createObjectURL(e)};y(t),console.log("Certificate added successfully:",t)}catch(e){alert(e instanceof Error?e.message:"Failed to process document"),console.error("Upload error:",e)}};return(0,r.jsxs)("div",{className:"space-y-2",children:[!e&&(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",style:{color:"var(--grey-500)"},children:"Documentation"}),(0,r.jsx)("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors",onClick:()=>m(!0),children:(0,r.jsx)(i,{size:20,style:{color:"var(--grey-500)"}})})]}),["STCW","GWO","OPITO","Contracts"].map(t=>{let l=j(t),s=o.includes(t);return(0,r.jsxs)("div",{className:"border-b border-gray-200 pb-2",children:[(0,r.jsxs)("button",{className:"w-full flex items-center justify-between py-3 text-left",onClick:()=>g(t),children:[(0,r.jsx)("span",{className:"font-medium text-lg",style:{color:"var(--grey-500)"},children:t}),(0,r.jsx)(a.P.div,{animate:{rotate:90*!!s},transition:{duration:.2},children:(0,r.jsx)(n,{size:20,style:{color:"var(--grey-500)"}})})]}),(0,r.jsx)(a.P.div,{initial:!1,animate:{height:s?"auto":0,opacity:+!!s},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"overflow-hidden",children:(0,r.jsx)("div",{className:"space-y-1 pl-4",children:l.map(t=>{let l=f(t.expiryDate);return(0,r.jsx)("div",{className:`flex items-center space-x-3 py-2 px-3 rounded-lg cursor-pointer transition-colors ${e&&p.includes(t.id)?"bg-opacity-20":"hover:bg-gray-50"}`,style:{backgroundColor:e&&p.includes(t.id)?"var(--gold-accent)":"transparent"},onClick:()=>v(t.id),onTouchStart:()=>{let e=setTimeout(()=>b(t.id),500),l=()=>clearTimeout(e);document.addEventListener("touchend",l,{once:!0}),document.addEventListener("touchmove",l,{once:!0})},children:(0,r.jsx)("span",{className:"flex-1 text-sm",style:{color:e&&p.includes(t.id)?"var(--gold-accent)":l.textColor,textDecoration:e&&p.includes(t.id)?"none":l.textDecoration},children:t.name})},t.id)})})})]},t)}),(0,r.jsx)(F,{isOpen:u,onClose:()=>m(!1),onFileUpload:C})]})}},5089:(e,t,l)=>{l.d(t,{A:()=>u});var r=l(687),s=l(3210),a=l(9699),o=l(8840),i=l(7024),n=l(2688);let c=(0,n.A)("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),d=(0,n.A)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);function u({mode:e}){let[t,l]=(0,s.useState)("user@example.com"),[n,u]=(0,s.useState)(30),[m,h]=(0,s.useState)("Please find attached my professional certificates.\n\nBest regards,\n[Your Name]"),p=(0,o.f)(e=>e.currentViewingCert),x=(0,o.f)(e=>e.updateCertificate),y=(0,o.f)(e=>e.deleteCertificate),{theme:F,toggleTheme:f}=(0,i.C)();return"home"===e?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold border-b pb-2",style:{color:"#FFFFFF",borderColor:"var(--grey-500)"},children:"My Account"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Google Email"}),(0,r.jsx)("input",{type:"email",value:t,onChange:e=>l(e.target.value),className:"w-full p-3 rounded",style:{backgroundColor:"#E5E7EB",color:"#1F2937",border:"1px solid #9CA3AF"},placeholder:"Enter your email"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Notification Days"}),(0,r.jsx)("input",{type:"number",value:n,onChange:e=>u(parseInt(e.target.value)),className:"w-full p-3 rounded",style:{backgroundColor:"#E5E7EB",color:"#1F2937",border:"1px solid #9CA3AF"},placeholder:"Days before expiry"}),(0,r.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--grey-500)"},children:"Get notified this many days before certificates expire"})]})]}),(0,r.jsx)("h4",{className:"text-md font-semibold border-b pb-2 mt-6",style:{color:"#FFFFFF",borderColor:"var(--grey-500)"},children:"Notifications"}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Email Template"}),(0,r.jsx)("textarea",{value:m,onChange:e=>h(e.target.value),rows:6,className:"w-full p-3 rounded resize-none",style:{backgroundColor:"#E5E7EB",color:"#1F2937",border:"1px solid #9CA3AF"},placeholder:"Enter your default email template"}),(0,r.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--grey-500)"},children:"This template will be used when sending certificates via email"})]})}),(0,r.jsx)("h4",{className:"text-md font-semibold border-b pb-2 mt-6",style:{color:"#FFFFFF",borderColor:"var(--grey-500)"},children:"Appearance"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#FFFFFF"},children:"Theme"}),(0,r.jsx)(a.$,{onClick:f,className:"w-full p-3 justify-start",style:{backgroundColor:"var(--grey-700)",color:"var(--white-pure)",border:"1px solid var(--grey-500)"},children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:["dark"===F?(0,r.jsx)(c,{size:20,color:"var(--gold-accent)"}):(0,r.jsx)(d,{size:20,color:"var(--gold-accent)"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:"dark"===F?"Dark Mode":"Light Mode"}),(0,r.jsxs)("div",{className:"text-sm opacity-75",children:["Tap to switch to ","dark"===F?"light":"dark"," theme"]})]})]})})]}),(0,r.jsx)(a.$,{onClick:()=>{console.log("Saving settings:",{email:t,notificationDays:n,emailTemplate:m,theme:F}),alert("Settings saved!")},className:"w-full py-3",style:{backgroundColor:"var(--gold-accent)",color:"var(--white-pure)"},children:"Save Settings"})]})]}):p?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold border-b pb-2",style:{color:"#FFFFFF",borderColor:"var(--grey-500)"},children:p.name}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"#FFFFFF"},children:"File Location"}),(0,r.jsxs)("select",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--grey-500)",color:"var(--white-pure)",border:"none"},defaultValue:p.filePath,onChange:e=>x(p.id,{filePath:e.target.value}),children:[(0,r.jsx)("option",{value:"/certificates/default",children:"Default Location"}),(0,r.jsx)("option",{value:"/certificates/stcw",children:"STCW Folder"}),(0,r.jsx)("option",{value:"/certificates/gwo",children:"GWO Folder"}),(0,r.jsx)("option",{value:"/certificates/opito",children:"OPITO Folder"}),(0,r.jsx)("option",{value:"/certificates/contracts",children:"Contracts Folder"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"#FFFFFF"},children:"Issue Date"}),(0,r.jsx)("input",{type:"date",className:"w-full p-2 rounded",style:{backgroundColor:"var(--grey-500)",color:"var(--white-pure)",border:"none"},defaultValue:p.issueDate,onChange:e=>x(p.id,{issueDate:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"#FFFFFF"},children:"Expiry Date"}),(0,r.jsx)("input",{type:"date",className:"w-full p-2 rounded",style:{backgroundColor:"var(--grey-500)",color:"var(--white-pure)",border:"none"},defaultValue:p.expiryDate,onChange:e=>x(p.id,{expiryDate:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"#FFFFFF"},children:"Cert no."}),(0,r.jsx)("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--grey-500)",color:"var(--white-pure)",border:"none"},defaultValue:p.serialNumber,onChange:e=>x(p.id,{serialNumber:e.target.value}),placeholder:"Enter certificate number"})]}),(0,r.jsx)(a.$,{onClick:()=>{confirm("Are you sure you want to delete this certificate?")&&(y(p.id),window.location.href="/")},className:"w-full p-3 rounded mt-6 font-medium",style:{backgroundColor:"var(--error-red)",color:"var(--white-pure)"},children:"Delete Certificate"})]})]}):(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{style:{color:"var(--grey-500)"},children:"No certificate selected"})})}},6082:(e,t,l)=>{l.d(t,{A:()=>c});var r=l(687),s=l(3210),a=l(6001),o=l(9699),i=l(1460),n=l(8840);function c({step:e,onStepChange:t,onSend:l,currentCertId:c}){let[d,u]=(0,s.useState)(null),m=(0,n.f)(e=>e.selectedCertificates),h=(0,n.f)(e=>e.clearSelection),p=(0,n.f)(e=>e.currentViewingCert);return(0,r.jsxs)("div",{className:"relative overflow-hidden",style:{minHeight:"200px"},children:[(0,r.jsx)(a.P.div,{variants:{step1:{x:0,transition:{duration:.3}},step2:{x:"-100%",transition:{duration:.3}}},animate:e,className:"absolute inset-0 space-y-4",children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(o.$,{onClick:()=>{u("this-doc"),setTimeout(()=>{let e=c||p?.id;e&&l([e]),u(null)},200)},variant:"ghost",className:"w-full py-4 text-left justify-start border-0 outline-none shadow-none transition-all duration-200",style:{backgroundColor:"this-doc"===d?"#C89B3C":"var(--grey-700)",color:"#FFFFFF",border:"none",outline:"none",boxShadow:"none",transform:"this-doc"===d?"scale(1.02)":"scale(1)"},children:(0,r.jsx)("span",{style:{color:"#FFFFFF",fontWeight:"this-doc"===d?"600":"400"},children:"This Document Only"})}),(0,r.jsx)(o.$,{onClick:()=>{u("multiple"),h(),t("step2"),setTimeout(()=>u(null),300)},variant:"ghost",className:"w-full py-4 text-left justify-start border-0 outline-none shadow-none transition-all duration-200",style:{backgroundColor:"multiple"===d?"#C89B3C":"var(--grey-700)",color:"#FFFFFF",border:"none",outline:"none",boxShadow:"none",transform:"multiple"===d?"scale(1.02)":"scale(1)"},children:(0,r.jsx)("span",{style:{color:"#FFFFFF",fontWeight:"multiple"===d?"600":"400"},children:"Select Multiple"})})]})}),(0,r.jsx)(a.P.div,{variants:{step1:{x:"100%",transition:{duration:.3}},step2:{x:0,transition:{duration:.3}}},animate:e,className:"absolute inset-0",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",style:{color:"var(--white-pure)"},children:"Select Multiple"}),m.length>0&&(0,r.jsxs)(o.$,{onClick:()=>{m.length>0&&l(m)},variant:"ghost",className:"px-4 py-2",style:{backgroundColor:"var(--gold-accent)",color:"#1E1E1E",fontWeight:"600"},children:["Send (",m.length,")"]})]}),(0,r.jsx)(i.A,{showSelection:!0,onFileSelect:()=>{}})]})})]})}}};